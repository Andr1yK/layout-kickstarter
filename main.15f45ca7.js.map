{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","throttle","fn","interval","lastTime","timeSinceLastExecution","Date","now","apply","arguments","debounce","timer","clearTimeout","args","that","setTimeout","once","returnValue","canRun","getElementPos","el","position","getBoundingClientRect","top","window","scrollY","height","bottom","menu","closeMenuButton","header","headerHeight","openMenuButton","toglleMenu","menuEl","bodyEl","classList","toggle","addEventListener","e","preventDefault","sliderItems","sliderItem","sliderPrevButton","sliderNextButton","sliderCurrentPage","sliderCountPage","slideAmount","children","length","slideWidth","offsetWidth","updatePageNumber","currentPage","disableButton","page","setAttribute","element","numLength","textContent","repeat","String","style","transform","removeAttribute","onresize","navigation","navHeight","scrollToElement","toElement","addNavHeight","mobileNav","elementTop","scrollTo","toTopButton","navLinks","sections","firstSectionY","setLinkEventListener","linkId","includes","getLinks","links","querySelectorAll","link","getAttribute","replace","setFirstSectionY","posY","getSections","Object","keys","linkedSection","changeActiveLink","y","pageYOffset","documentElement","scrollTop","remove","section","add","pos","fontWeight","contactForm","emailInput","messageInput","validateEmail","email","test","checkInput","value","benefitsTitles","setBenefitsTitleHeight","maxHeight","title","titleHeight","Math","ceil","playVideoButton","videoName","videoPopup","popupArea","video","closeVideoButton","play","pause"],"mappings":"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","file":"main.15f45ca7.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('.page__body');\n\n// #region Decorators\nfunction throttle(fn, interval) {\n  let lastTime;\n\n  return function throttled() {\n    const timeSinceLastExecution = Date.now() - lastTime;\n\n    if (!lastTime || (timeSinceLastExecution >= interval)) {\n      fn.apply(this, arguments);\n      lastTime = Date.now();\n    }\n  };\n}\n\nfunction debounce(fn, interval) {\n  let timer;\n\n  return function debounced() {\n    clearTimeout(timer);\n\n    const args = arguments;\n    const that = this;\n\n    timer = setTimeout(function callOriginalFn() {\n      fn.apply(that, args);\n    }, interval);\n  };\n}\n\nfunction once(fn) {\n  let returnValue;\n  let canRun = true;\n\n  return function runOnce() {\n    if (canRun) {\n      returnValue = fn.apply(this, arguments);\n      canRun = false;\n    }\n\n    return returnValue;\n  };\n}\n\n// #endregion Decorators\n\n// #region getElementPos\nconst getElementPos = (el) => {\n  const position = el.getBoundingClientRect();\n\n  return {\n    top: position.top + window.scrollY,\n    height: position.height,\n    bottom: position.bottom + window.scrollY,\n  };\n};\n// #endregion getElementPos\n\n// #region MenuEvents\n\nconst menu = document.querySelector('.menu');\nconst closeMenuButton = menu.querySelector('.menu-close');\n\nconst header = document.querySelector('.header');\nconst headerHeight = getElementPos(header).height;\nconst openMenuButton = header.querySelector('.menu-opener');\n\nconst toglleMenu = (menuEl, bodyEl) => {\n  menuEl.classList.toggle('page__menu--open');\n  bodyEl.classList.toggle('page__body--with-menu');\n};\n\ncloseMenuButton.addEventListener('click', (e) => {\n  toglleMenu(menu, body);\n  e.preventDefault();\n});\n\nopenMenuButton.addEventListener('click', (e) => {\n  toglleMenu(menu, body);\n  e.preventDefault();\n});\n// #endregion MenuEvents\n\n// #region Slider\n\nconst sliderItems = document.querySelector('.slider__items');\nconst sliderItem = document.querySelector('.slider__item');\n\nconst sliderPrevButton = document.querySelector('.slider__prev-button');\nconst sliderNextButton = document.querySelector('.slider__next-button');\n\nconst sliderCurrentPage = document.querySelector('.slider__page-current');\nconst sliderCountPage = document.querySelector('.slider__page-last');\n\nconst slideAmount = sliderItems.children.length;\n\nlet slideWidth = sliderItem.offsetWidth;\n\nupdatePageNumber(slideAmount, sliderCountPage);\n\nlet currentPage = 0;\n\nsliderNextButton.addEventListener('click', () => {\n  disableButton(currentPage - 1);\n\n  currentPage--;\n  updatePageNumber(-currentPage + 1);\n\n  sliderItems.style.transform = `translateX(${currentPage * slideWidth}px)`;\n  sliderPrevButton.removeAttribute('disabled');\n});\n\nsliderPrevButton.addEventListener('click', () => {\n  disableButton(currentPage + 1);\n\n  currentPage++;\n  updatePageNumber(-currentPage + 1);\n\n  sliderItems.style.transform = `translateX(${currentPage * slideWidth}px)`;\n  sliderNextButton.removeAttribute('disabled');\n});\n\nfunction disableButton(page) {\n  if (page + 1 > 0) {\n    sliderPrevButton.setAttribute('disabled', '');\n  }\n\n  if (page - 1 === -slideAmount) {\n    sliderNextButton.setAttribute('disabled', '');\n  }\n}\n\nfunction updatePageNumber(page, element = sliderCurrentPage, numLength = 2) {\n  element.textContent = `${\n    '0'.repeat(numLength - String(page).length)}${page}\n  `;\n}\n\nwindow.onresize = throttle(() => {\n  slideWidth = sliderItem.offsetWidth;\n}, 100);\n\n// #endregion Slider\n\n// #region ScrollTo\nconst navigation = document.querySelector('.navigation');\nconst navHeight = getElementPos(navigation).height;\n\nconst scrollToElement = (\n  toElement,\n  addNavHeight = false,\n  mobileNav = false\n) => {\n  const elementTop = getElementPos(toElement).top;\n\n  if (addNavHeight) {\n    window.scrollTo(0, elementTop - navHeight);\n\n    return;\n  }\n\n  if (mobileNav) {\n    window.scrollTo(0, elementTop - headerHeight);\n\n    return;\n  }\n\n  window.scrollTo(0, elementTop);\n};\n\nconst toTopButton = document.querySelector('.go-top');\n\ntoTopButton.addEventListener('click', () => scrollToElement(body));\n\n// #endregion ScrollTo\n\n// #region dynamicNavigation\nconst navLinks = {};\nconst sections = {};\n\nlet firstSectionY = -1;\n\nconst setLinkEventListener = (linkId) => {\n  navLinks[linkId].addEventListener('click', (e) => {\n    if (linkId.includes('-mob')) {\n      toglleMenu(menu, body);\n      scrollToElement(sections[linkId], false, true);\n    } else {\n      scrollToElement(sections[linkId], true, false);\n    }\n\n    e.preventDefault();\n  });\n};\n\nconst getLinks = () => {\n  const links = document.querySelectorAll('.linkTo');\n\n  for (const link of links) {\n    const linkId = link.getAttribute('href').replace('#', '');\n\n    navLinks[linkId] = link;\n\n    setLinkEventListener(linkId);\n  }\n};\n\nconst setFirstSectionY = (posY) => {\n  if (firstSectionY < 0 || posY < firstSectionY) {\n    firstSectionY = posY;\n  }\n};\n\nconst getSections = () => {\n  if (!Object.keys(navLinks).length) {\n    once(getLinks());\n  }\n\n  for (const linkId in navLinks) {\n    let linkedSection;\n\n    if (linkId.includes('-mob')) {\n      linkedSection = document.querySelector(`[data-sect-name=${linkId}]`);\n    } else {\n      linkedSection = document.querySelector(`#${linkId}`);\n    }\n    sections[linkId] = linkedSection;\n    sections[linkId]['pos'] = getElementPos(sections[linkId]);\n\n    setFirstSectionY(sections[linkId]['pos'].top);\n  }\n};\n\nconst changeActiveLink = throttle(() => {\n  const y = (window.pageYOffset || document.documentElement.scrollTop) + 150;\n\n  if (!Object.keys(sections).length) {\n    once(getSections());\n  }\n\n  if (y < firstSectionY) {\n    toTopButton.classList.remove('go-top--visible');\n\n    return;\n  }\n\n  toTopButton.classList.add('go-top--visible');\n\n  for (const section in sections) {\n    if (\n      y + navHeight > sections[section].pos.top\n      && y < sections[section].pos.bottom\n    ) {\n      navLinks[section].style.fontWeight = '500';\n    } else {\n      navLinks[section].style.fontWeight = '300';\n    }\n  }\n}, 100);\n\nchangeActiveLink();\n\nwindow.addEventListener('scroll', changeActiveLink);\n\n// #endregion dynamicNavigation\n\n// #region formProcessing\nconst contactForm = document.querySelector('.contact__form');\nconst emailInput = contactForm.querySelector('.contact__email');\nconst messageInput = contactForm.querySelector('.contact__message');\n\nconst validateEmail = (email) => {\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n    return true;\n  }\n\n  return false;\n};\n\nconst checkInput = debounce(() => {\n  const valid = validateEmail(emailInput.value);\n\n  if (valid) {\n    emailInput.setAttribute('title', '');\n    emailInput.classList.remove('contact__form-field--error');\n    emailInput.classList.add('contact__form-field--valid');\n\n    emailInput.value = '';\n    messageInput.value = '';\n    setTimeout(scrollToElement, 200, body);\n\n    emailInput.classList.remove('contact__form-field--valid');\n  } else {\n    emailInput.setAttribute('title', 'Please make sure the email is valid.');\n    emailInput.classList.remove('contact__form-field--valid');\n    emailInput.classList.add('contact__form-field--error');\n  }\n}, 100);\n\ncontactForm.addEventListener('submit', (e) => {\n  checkInput();\n  e.preventDefault();\n});\n// #endregion formProcessing\n\n// #region setBenefitsItemHeight\n\nconst benefitsTitles = document.querySelectorAll('.benefits__title');\n\nconst setBenefitsTitleHeight = () => {\n  let maxHeight = -1;\n\n  for (const title of benefitsTitles) {\n    const titleHeight = getElementPos(title).height;\n\n    if (maxHeight < titleHeight) {\n      maxHeight = Math.ceil(titleHeight);\n    }\n  }\n\n  if (maxHeight > 0) {\n    for (const title of benefitsTitles) {\n      title.style.height = `${maxHeight}px`;\n    }\n  }\n};\n\nsetBenefitsTitleHeight();\n\n// #endregion setBenefitsItemHeight\n\n// #region openVideo\n\nconst playVideoButton = document.querySelector('.video-section__play-button');\nconst videoName = playVideoButton.getAttribute('data-requred-video');\nconst videoPopup = document.querySelector('[data-popup=\"video\"]');\nconst popupArea = document.querySelector('.popup__area');\nconst video = document.querySelector(`[data-video-name=${videoName}]`);\nconst closeVideoButton = document.querySelector('.popup__cross');\n\nplayVideoButton.addEventListener('click', (e) => {\n  videoPopup.classList.add('popup--open');\n  video.play();\n});\n\ncloseVideoButton.addEventListener('click', () => {\n  video.pause();\n  videoPopup.classList.remove('popup--open');\n});\n\npopupArea.addEventListener('click', () => {\n  video.pause();\n  videoPopup.classList.remove('popup--open');\n});\n\n// #endregion openVideo\n"]}